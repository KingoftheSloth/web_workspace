<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>유기동물 보호소 정보</title>
</head>
<body>
    <h1>유기동물 보호소 정보</h1>
    <table border="1" id="animalShelterTable">
        <tr>
            <th>보호소 이름</th>
            <th>주소</th>
            <th>전화번호</th>
        </tr>
    </table>
    <script>
        var apiKey = "YOUR_API_KEY"; // 제공해 주신 인증키 입력
        var apiUrl = "http://openapi.animal.go.kr/openapi/service/rest/animalShelterSrvc/shelterInfo"; // API 엔드포인트

        // API 호출
        fetch(apiUrl + "?ServiceKey=" + apiKey + "&pageNo=1&numOfRows=10&upr_cd=6110000", {
            method: "GET"
        })
        .then(response => response.text())
        .then(data => {
            var parser = new DOMParser();
            var xmlDoc = parser.parseFromString(data, "text/xml");
            var items = xmlDoc.getElementsByTagName("item");

            var animalShelterTable = document.getElementById("animalShelterTable");

            for (var i = 0; i < items.length; i++) {
                var shelterNm = items[i].getElementsByTagName("shelterNm")[0].textContent;
                var careAddr = items[i].getElementsByTagName("careAddr")[0].textContent;
                var careTel = items[i].getElementsByTagName("careTel")[0].textContent;

                var row = animalShelterTable.insertRow();
                var cell1 = row.insertCell(0);
                var cell2 = row.insertCell(1);
                var cell3 = row.insertCell(2);
                cell1.innerHTML = shelterNm;
                cell2.innerHTML = careAddr;
                cell3.innerHTML = careTel;
            }
        })
        .catch(error => console.error("API 호출 오류:", error));
    </script>
</body>
</html>
