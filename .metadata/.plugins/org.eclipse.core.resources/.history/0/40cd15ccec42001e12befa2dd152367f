<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>유기동물 정보</title>
</head>
<body>
    <h1>유기동물 정보</h1>
    <table border="1" id="animalTable">
        <tr>
            <th>동물이름</th>
            <th>유기날짜</th>
            <th>보호소이름</th>
        </tr>
    </table>
    <script>
        // 공공데이터 포털에서 발급한 API 인증키
        var apiKey = "ne53vYZ%2FHctQxGJhVLlcKvtvzi%2FHNfY42exeWo4iiO%2FxrJTgFukzupa98bwUDM318BruDv8y8kWtQDh76hClvQ%3D%3D";

        // API 호출 URL
        var apiUrl = "https://www.data.go.kr/data/15098915/openapi.do";

        // API 호출
        fetch(apiUrl, {
            method: "GET",
            headers: {
                "Authorization": apiKey
            }
        })
        .then(response => response.json())
        .then(data => {
            var animalTable = document.getElementById("animalTable");
            data.forEach(item => {
                var row = animalTable.insertRow();
                var cell1 = row.insertCell(0);
                var cell2 = row.insertCell(1);
                var cell3 = row.insertCell(2);
                cell1.innerHTML = item.animalName;
                cell2.innerHTML = item.captureDate;
                cell3.innerHTML = item.shelterName;
            });
        })
        .catch(error => console.error("API 호출 오류:", error));
    </script>
</body>
</html>